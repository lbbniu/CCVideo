<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <title>WinA</title>
    <link rel="stylesheet" type="text/css" href="css/api.css" />
    <link rel="stylesheet" type="text/css" href="css/box.css" />
    <script type="text/javascript" src="script/public.js"></script>
    <style>
    	p{
    		color:#999;
    		padding:5px;
    	}
    </style>
	<script type="text/javascript">
		var video = null;
		apiready = function(){
	    	video = api.require("ccVideo");
            api.addEventListener({
                                 name: 'lbb.downloading'
                                 }, function (ret, err) {
                                    api.toast({msg:'downloading===='+JSON.stringify(ret)});
                                 });
            
            api.addEventListener({
                                 name: 'lbb.downloaded'
                                 }, function (ret, err) {
                                    api.toast({msg:'downloaded----'+JSON.stringify(ret)});
                                 });
	    }
	    function openVideo(vid,isLocalPlay){
	        var param = {
	            title:"视频标题111",
	            videoId:vid,
	            thumbImageUrl:"http://img4.jiecaojingxuan.com/2016/11/23/00b026e7-b830-4994-bc87-38f4033806a6.jpg@!640_360",
                h:200,
                fixedOn:api.frameName,
                fixed:true,
                autoPlay:false,
	            isLocalPlay:isLocalPlay,
	            fullscreen:false,
                position:12000
	        };
	        video.open(param,function (ret, err){
                //api.alert({msg:ret});
	        });
            //alert(api.frameName);
	        //video.seekTo({position:2000});
	    }
	    function closeVideo(){
	        video.close();
	    }
	    function startVideo(){
	    		video.start();
	    }
	    function stopVideo(){
	    		video.stop();
	    }
	    function getCurrentPositionVideo(){
	    		video.getCurrentPosition(function(ret,err){
	    			api.alert({msg:ret});
	    		});
	    }
	    function seekTo(){
	    		video.seekTo({position:12000});
	    }
	    function startDownloadSvr(){
	    		video.startDownloadSvr(function(ret,err){
	    			//api.alert({msg:ret});
	    			api.toast({msg:JSON.stringify(ret)});
	    			//api.alert({msg:err});
	    		});
	    }
	    function stopDownloadSvr(){
	    		video.stopDownloadSvr();
	    }
	    function addDownloadVideo(videoId){
            video.addDownloadVideo({videoId:videoId},function(ret){
                                   api.alert({msg:ret});
                                   });
	    }
	    function removeDownloadVideo(videoId){
	    		video.removeDownloadVideo({videoId:videoId});
	    }
	    function downloadVideo(videoId){
	    		video.downloadVideo({videoId:videoId});
	    }
	    function getVideoList(){
	    		video.getDownloadingList(function(ret){
                                         ret.type = "getDownloadingList";
                                         api.alert({msg:ret});
                                         })
	    		video.getDownloadedList(function(ret){ret.type = "getDownloadedList";api.alert({msg:ret});})
	    }
	</script>
</head>
<body>
<div id="wrap">
	<div id="main">
	        	<br>
	        	<div class='itemtitle'>cc视频</div>
		<div class="clickbtn" tapmode="active" onclick="startDownloadSvr()" >开启视频下载服务</div>     
		<div class="clickbtn" tapmode="active" onclick="stopDownloadSvr()" >停止视频下载服务</div>     
		<div class="clickbtn" tapmode="active" onclick="addDownloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >添加视频下载1</div>
		<div class="clickbtn" tapmode="active" onclick="addDownloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >添加视频下载2</div>
		<div class="clickbtn" tapmode="active" onclick="removeDownloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >删除视频下载1</div>
		<div class="clickbtn" tapmode="active" onclick="removeDownloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >删除视频下载2</div>
		<div class="clickbtn" tapmode="active" onclick="downloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >点击下载列表1</div>
		<div class="clickbtn" tapmode="active" onclick="downloadVideo('E922B1D3B0213CEB9C33DC5901307461')" >点击下载列表2</div>
		<div class="clickbtn" tapmode="active" onclick="getVideoList()" >获取列表</div><br> 	
		---------------------<br> 
		<div class="clickbtn" tapmode="active" onclick="openVideo('E922B1D3B0213CEB9C33DC5901307461',false)" >打开视频1</div>
		<div class="clickbtn" tapmode="active" onclick="openVideo('E922B1D3B0213CEB9C33DC5901307461',true)" >打开视频2</div>
		<div class="clickbtn" tapmode="active" onclick="closeVideo()" >关闭视频</div>     
		<div class="clickbtn" tapmode="active" onclick="startVideo()" >开始播放</div>     
		<div class="clickbtn" tapmode="active" onclick="stopVideo()" >暂停播放</div>     
		<div class="clickbtn" tapmode="active" onclick="getCurrentPositionVideo()" >获取播放进度</div> 
		<div class="clickbtn" tapmode="active" onclick="seekTo()" >3000毫秒</div>     				
		<br>
	</div>
</div>
</body>
</html>